<Window x:Class="DictationApp.Views.SpeakerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DictationApp â€“ Speaker Dashboard"
        Height="680" Width="900"
        MinHeight="560" MinWidth="760"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}"
        Closing="Window_Closing">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="56"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Top Bar -->
        <Border Grid.Row="0" Grid.ColumnSpan="2"
                Background="{StaticResource PrimaryBrush}">
            <Grid Margin="20,0">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="ðŸŽ™" FontSize="22" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBlock x:Name="WindowTitle" Text="DictationApp"
                               FontSize="18" FontWeight="SemiBold"
                               Foreground="White" VerticalAlignment="Center"
                               FontFamily="Segoe UI"/>
                    <Border Margin="12,0,0,0" Padding="8,3" CornerRadius="12"
                            Background="#1557B0" VerticalAlignment="Center">
                        <TextBlock Text="SPEAKER" FontSize="10" FontWeight="Bold"
                                   Foreground="White" FontFamily="Segoe UI"/>
                    </Border>
                </StackPanel>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right"
                            VerticalAlignment="Center">
                    <TextBlock x:Name="UserNameLabel" Text=""
                               FontSize="14" Foreground="White" FontFamily="Segoe UI"
                               VerticalAlignment="Center" Margin="0,0,16,0"/>
                    <Button Content="âš™ Settings" Style="{StaticResource OutlineButton}"
                            Foreground="White" BorderBrush="White"
                            Padding="10,6" FontSize="12"
                            Click="Settings_Click" Margin="0,0,8,0"/>
                    <Button Content="Sign Out" Style="{StaticResource OutlineButton}"
                            Foreground="White" BorderBrush="White"
                            Padding="10,6" FontSize="12"
                            Click="SignOut_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Left Panel: Recording -->
        <Border Grid.Row="1" Grid.Column="0" Margin="16,16,8,16"
                Style="{StaticResource Card}" Padding="20">
            <StackPanel>
                <TextBlock Text="New Recording" FontSize="17" FontWeight="SemiBold"
                           FontFamily="Segoe UI" Foreground="{StaticResource TextPrimaryBrush}"
                           Margin="0,0,0,16"/>

                <!-- Waveform / Level Indicator -->
                <Border Height="80" CornerRadius="8" Background="#F1F3F4"
                        Margin="0,0,0,16" ClipToBounds="True">
                    <Canvas x:Name="WaveformCanvas"/>
                </Border>

                <!-- Timer -->
                <TextBlock x:Name="TimerLabel" Text="00:00"
                           FontSize="42" FontFamily="Consolas" FontWeight="Bold"
                           Foreground="{StaticResource TextPrimaryBrush}"
                           HorizontalAlignment="Center" Margin="0,0,0,4"/>
                <TextBlock x:Name="RecordingStatusLabel" Text="Ready to record"
                           FontSize="13" FontFamily="Segoe UI"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           HorizontalAlignment="Center" Margin="0,0,0,20"/>

                <!-- Record / Stop Buttons -->
                <Button x:Name="RecordButton"
                        Content="âº  Start Recording"
                        Style="{StaticResource DangerButton}"
                        Height="46" FontSize="15"
                        Click="RecordButton_Click"/>

                <Button x:Name="StopButton"
                        Content="â¹  Stop Recording"
                        Style="{StaticResource PrimaryButton}"
                        Height="46" FontSize="15"
                        Margin="0,8,0,0" IsEnabled="False"
                        Click="StopButton_Click"/>

                <!-- File Name -->
                <Separator Margin="0,20"/>
                <TextBlock Text="File Name (optional)" FontSize="12"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           FontFamily="Segoe UI" Margin="0,0,0,4"/>
                <TextBox x:Name="FileNameBox" Style="{StaticResource ModernTextBox}"
                         Height="36"/>

                <!-- Notes -->
                <TextBlock Text="Notes" FontSize="12"
                           Foreground="{StaticResource TextSecondaryBrush}"
                           FontFamily="Segoe UI" Margin="0,12,0,4"/>
                <TextBox x:Name="NotesBox" Style="{StaticResource ModernTextBox}"
                         Height="70" TextWrapping="Wrap" AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         />
            </StackPanel>
        </Border>

        <!-- Right Panel: My Recordings -->
        <Border Grid.Row="1" Grid.Column="1" Margin="8,16,16,16"
                Style="{StaticResource Card}" Padding="0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Header -->
                <Border Grid.Row="0" Padding="20,16" BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="0,0,0,1">
                    <Grid>
                        <StackPanel>
                            <TextBlock Text="My Recordings" FontSize="17" FontWeight="SemiBold"
                                       FontFamily="Segoe UI" Foreground="{StaticResource TextPrimaryBrush}"/>
                            <TextBlock x:Name="RecordingCountLabel"
                                       FontSize="12" FontFamily="Segoe UI"
                                       Foreground="{StaticResource TextSecondaryBrush}"/>
                        </StackPanel>
                        <Button Content="â†» Refresh" HorizontalAlignment="Right"
                                Style="{StaticResource OutlineButton}"
                                Padding="10,6" FontSize="12"
                                Click="Refresh_Click"/>
                    </Grid>
                </Border>

                <!-- List -->
                <ListBox x:Name="RecordingsList" Grid.Row="1"
                         Background="Transparent" BorderThickness="0"
                         Padding="12,8"
                         ItemContainerStyle="{StaticResource AudioFileItem}"
                         SelectionChanged="RecordingsList_SelectionChanged">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{Binding FileName}" FontSize="14" FontWeight="SemiBold"
                                               FontFamily="Segoe UI" Foreground="{StaticResource TextPrimaryBrush}"
                                               TextTrimming="CharacterEllipsis"/>
                                    <StackPanel Orientation="Horizontal" Margin="0,3,0,0">
                                        <TextBlock Text="{Binding DurationDisplay}" FontSize="12"
                                                   FontFamily="Segoe UI"
                                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                                        <TextBlock Text=" Â· " FontSize="12"
                                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                                        <TextBlock Text="{Binding FileSizeDisplay}" FontSize="12"
                                                   FontFamily="Segoe UI"
                                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                                        <TextBlock Text=" Â· " FontSize="12"
                                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                                        <TextBlock Text="{Binding RecordedAt, StringFormat='MMM d, h:mm tt'}"
                                                   FontSize="12" FontFamily="Segoe UI"
                                                   Foreground="{StaticResource TextSecondaryBrush}"/>
                                    </StackPanel>
                                </StackPanel>
                                <TextBlock Grid.Column="1" Text="{Binding StatusDisplay}"
                                           FontSize="12" FontFamily="Segoe UI"
                                           VerticalAlignment="Center" Margin="8,0,0,0"/>
                            </Grid>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <!-- Action Bar -->
                <Border Grid.Row="2" Padding="12,10"
                        BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="0,1,0,0"
                        Background="#FAFBFC">
                    <StackPanel Orientation="Horizontal">
                        <Button x:Name="SendButton" Content="ðŸ“¤ Send for Review"
                                Style="{StaticResource SuccessButton}"
                                IsEnabled="False" Padding="12,8" FontSize="13"
                                Click="SendButton_Click"/>
                        <Button x:Name="PlayButton" Content="â–¶ Play"
                                Style="{StaticResource OutlineButton}"
                                IsEnabled="False" Padding="12,8" FontSize="13"
                                Margin="8,0,0,0"
                                Click="PlayButton_Click"/>
                        <Button x:Name="DeleteButton" Content="ðŸ—‘ Delete"
                                Style="{StaticResource DangerButton}"
                                IsEnabled="False" Padding="12,8" FontSize="13"
                                Margin="8,0,0,0"
                                Click="DeleteButton_Click"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>
    </Grid>
</Window>
